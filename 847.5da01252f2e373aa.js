"use strict";(self.webpackChunkams=self.webpackChunkams||[]).push([[847],{2847:(pn,ht,m)=>{m.r(ht),m.d(ht,{HomeModule:()=>fn});var t=m(1571),w=m(528),C=m(1260),U=m(9646),Ht=m(794),ut=m.t(Ht,2);let q=(()=>{const n=class{constructor(){}generateCryptoId(r=16){const s=new Uint8Array(r/2);return crypto.getRandomValues(s),Array.from(s,o=>("0"+o.toString(16)).slice(-2)).join("")}compareDate(r,s){let o=new Date(r),a=new Date(s);return o.getDate()===a.getDate()&&o.getMonth()===a.getMonth()&&o.getFullYear()===a.getFullYear()}};let e=n;return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),k=(()=>{const n=class{constructor(r,s){this.authService=r,this.commonService=s,this.setting={value:{},isUpdate:!0},this.getUsers={isUpdate:!0,value:[]},this.userPermissionTemp=ut,this.authService.currentUser.subscribe(o=>{this.currentUser=o})}addAttendance(r){try{return(!this.currentUser?.attendence||!this.currentUser?.attendence?.length)&&(this.currentUser.attendence=[]),this.currentUserIndex?(r.userId=this.users?.[this.currentUserIndex]?.id,this.users?.[this.currentUserIndex]?.attendence.push(r),this.usersUpdate(),(0,U.of)({status:200,message:"Added Succesfully"})):(r.userId=this.currentUser?.id,this.currentUser?.attendence.push(r),this.updateUser(this.currentUser),this.getUser(),(0,U.of)({status:200,message:"Added Succesfully"}))}catch{}}getAttendanceListbyId(r){try{return this.getUserById(r)?.attendence||[]}catch{}}addUser(r){try{if(this.currentUser){if(this.getUserBtEmail(r.email))return;r.id=this.commonService.generateCryptoId(),r.managerId=this.currentUser.id,this.users||(this.users=[],this.users.push(this.currentUser)),this.users.push(r),this.updateUser(this.currentUser),this.getUsers.isUpdate=!0,this.usersUpdate()}}catch{}}updateUser(r,s){try{if(r.id){s&&Object.assign(r,s);let o=this.getUserIndexById(r.id);this.users[o]=r,this.usersUpdate(),this.getUsers.isUpdate=!0}else this.getUser()}catch{}}getUser(){try{this.users?.length?this.currentUserIndex=this.users.findIndex(r=>r.id===this.currentUser?.id):this.addUser(this.currentUser)}catch{}}usersUpdate(){try{localStorage.setItem("ams_users",JSON.stringify(this.users))}catch{}}setSetting(r){try{localStorage.setItem("ams_setting",JSON.stringify(r)),this.setting.isUpdate=!0}catch{}}getSetting(){try{if(this.setting.isUpdate){let r=localStorage.getItem("ams_setting");r&&(this.setting.value=JSON.parse(r),this.filterSetting()),this.setting.isUpdate=!1}return this.setting.value}catch{}}getAllUsers(){try{if(this.getUsers.isUpdate||!this.users||!this.users?.length){let r=localStorage.getItem("ams_users");this.users=JSON.parse(r),this.getUsers.isUpdate=!1}return this.users}catch{}}updateUserById(r,s){try{if(this.users?.length){let o=this.getUserIndexById(r);o&&(this.users[o]=s,this.usersUpdate(),this.getUsers.isUpdate=!0)}else this.addUser(this.currentUser)}catch{}}getUserById(r){try{this.users?.length||this.getAllUsers();let s=this.getUserIndexById(r);return this.users[s]}catch{}}getUserIndexById(r){try{if(this.users)return this.users.findIndex(s=>s.id===r);this.users=this.getAllUsers(),this.getUserIndexById(r)}catch{}}getUserBtEmail(r){try{return this.users?.length?this.users.find(s=>s?.email===r):void 0}catch{}}filterSetting(){try{this.setting.value.role&&("superadmin"===this.currentUser.role?this.setting.value.role=this.setting.value.role.filter(r=>"superadmin"!==r.value):"manager"===this.currentUser.role&&(this.setting.value.role=this.setting.value.role.filter(r=>"superadmin"!==r.value&&"manager"!==r.value)))}catch{}}getUserByManagerId(r){try{return this.users?.length||this.getAllUsers(),this.users.filter(s=>s.managerId===r)}catch{}}addAtendancebyId(r){try{let s=this.getAllattendanceList(),o=this.getAttendacebyId(r.userId),a=!1;return o&&(a=this.commonService.compareDate(new Date,o[o.length-1].date)),a?(0,U.of)({status:200,message:"Atendance already marked !!!"}):(s.push(r),this.updateAttendanceList(s),(0,U.of)({status:200,message:"Added Succesfully"}))}catch{}}getAttendacebyId(r){try{if("superadmin"!==this.currentUser.role){let o=this.getUserById(r);if(this.currentUser.id!==r&&o.managerId!=this.currentUser.id)return[]}let s=this.getAllattendanceList()||[];return s&&(s=s.filter(o=>o.userId===r)),s}catch{}}getAllattendanceList(){try{let r=localStorage.getItem("ams_attendance_list");return r?JSON.parse(r):[]}catch{}}updateAttendanceList(r){try{localStorage.setItem("ams_attendance_list",JSON.stringify(r))}catch{}}getUserPermission(){try{if(!this.userPermission){this.getPermission();{console.log(this.userPermissionTemp);let s=ut;console.log(s),this.updatetUserPermission(s?.default);let o=this.getPermission();o&&(this.userPermission=o)}}return this.userPermission}catch{}}getPermission(){try{let r=localStorage.getItem("ams_user_permission");return r&&(r=JSON.parse(r)),r}catch{}}updatetUserPermission(r){try{localStorage.setItem("ams_user_permission",JSON.stringify(r)),this.userPermission={}}catch{}}login(r){return this.getAllUsers().find(a=>a.email===r.email&&a.password===r.password)}};let e=n;return n.\u0275fac=function(s){return new(s||n)(t.LFG(C.$),t.LFG(q))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var f=m(6895),u=m(433);const $t=function(){return["staff"]};function Pt(e,n){1&e&&(t.TgZ(0,"a",13),t._uU(1,"Staff"),t.qZA()),2&e&&t.Q6J("routerLink",t.DdM(1,$t))}const Jt=function(){return["attendance"]},Vt=function(e){return{id:e}};function Yt(e,n){if(1&e&&(t.TgZ(0,"a",14),t._uU(1,"Attendance"),t.qZA()),2&e){const i=t.oxw();t.Q6J("routerLink",t.DdM(2,Jt))("queryParams",t.VKq(3,Vt,i.currentUser.id))}}const Gt=function(){return["setting"]};function Wt(e,n){1&e&&(t.TgZ(0,"a",13),t._uU(1,"Setting"),t.qZA()),2&e&&t.Q6J("routerLink",t.DdM(1,Gt))}const jt=function(){return["dashboard"]};let Qt=(()=>{const n=class{constructor(r,s,o){this.auth=r,this.router=s,this.dataBaseSerice=o,this.auth.currentUser.subscribe(a=>this.currentUser=a),this.pagePermission=this.dataBaseSerice.getUserPermission()}logout(){this.auth.logout()}};let e=n;return n.\u0275fac=function(s){return new(s||n)(t.Y36(C.$),t.Y36(w.F0),t.Y36(k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-header"]],decls:19,vars:6,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","nav-link",3,"routerLink","queryParams",4,"ngIf"],["role","search",1,"d-flex"],["type","submit",1,"btn","btn-outline-success"],["type","submit",1,"btn","btn-outline-danger",3,"click"],[1,"nav-link",3,"routerLink"],[1,"nav-link",3,"routerLink","queryParams"]],template:function(s,o){1&s&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),t._uU(3,"AMS"),t.qZA(),t.TgZ(4,"button",3),t._UZ(5,"span",4),t.qZA(),t.TgZ(6,"div",5)(7,"ul",6)(8,"li",7),t.YNc(9,Pt,2,2,"a",8),t.qZA(),t.TgZ(10,"li",7),t.YNc(11,Yt,2,5,"a",9),t.qZA(),t.TgZ(12,"li",7),t.YNc(13,Wt,2,2,"a",8),t.qZA()(),t.TgZ(14,"form",10)(15,"button",11),t._uU(16),t.qZA(),t.TgZ(17,"button",12),t.NdJ("click",function(){return o.logout()}),t._uU(18,"Logout"),t.qZA()()()()()),2&s&&(t.xp6(2),t.Q6J("routerLink",t.DdM(5,jt)),t.xp6(7),t.Q6J("ngIf",o.pagePermission.staff[o.currentUser.role]||!1),t.xp6(2),t.Q6J("ngIf","superadmin"!==o.currentUser.role&&(o.pagePermission.attendance[o.currentUser.role]||!1)),t.xp6(2),t.Q6J("ngIf",o.pagePermission.setting[o.currentUser.role]||!1),t.xp6(3),t.Oqu(null==o.currentUser?null:o.currentUser.userName))},dependencies:[f.O5,w.rH,u._Y,u.JL,u.F],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})(),zt=(()=>{const n=class{};let e=n;return n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"m-3"]],template:function(s,o){1&s&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0),t._UZ(2,"router-outlet"),t.qZA())},dependencies:[w.lC,Qt],encapsulation:2}),e})();class Kt{constructor(n,i){this.open=n,this.close=i||n}isManual(){return"manual"===this.open||"manual"===this.close}}const Xt={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const _=typeof window<"u"&&window||{},v=_.document;var B=(()=>{return(e=B||(B={})).isBs4="bs4",e.isBs5="bs5",B;var e})();let T;function pt(){const e=_.document.createElement("span");e.innerText="testing bs version",e.classList.add("d-none"),e.classList.add("pl-1"),_.document.head.appendChild(e);const n=_.getComputedStyle(e).paddingLeft;return n&&parseFloat(n)?(_.document.head.removeChild(e),"bs4"):(_.document.head.removeChild(e),"bs5")}function N(){return{isBs4:(T||(T=pt()),"bs4"===T),isBs5:(T||(T=pt()),"bs5"===T)}}class oe{static reflow(n){}static getStyles(n){let i=n.ownerDocument.defaultView;return(!i||!i.opener)&&(i=_),i.getComputedStyle(n)}static stackOverflowConfig(){const n=function se(){const e=N(),n=Object.keys(e).find(i=>e[i]);return B[n]}();return{crossorigin:"anonymous",integrity:"bs5"===n?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===n?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;var ce=m(5698);let tt,le=(()=>{class e{constructor(){this._focusTrapStack=[]}register(i){this._focusTrapStack=this._focusTrapStack.filter(s=>s!==i);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(i),i._enable()}deregister(i){i._disable();const r=this._focusTrapStack,s=r.indexOf(i);-1!==s&&(r.splice(s,1),r.length&&r[r.length-1]._enable())}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();try{tt=typeof Intl<"u"&&Intl.v8BreakIterator}catch{tt=!1}let gt=(()=>{class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?(0,f.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tt)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(t.Lbi))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_t=(()=>{class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function he(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const r=function de(e){try{return e.frameElement}catch{return null}}(function be(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(i));if(r&&(-1===bt(r)||!this.isVisible(r)))return!1;let s=i.nodeName.toLowerCase(),o=bt(i);return i.hasAttribute("contenteditable")?-1!==o:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function _e(e){let n=e.nodeName.toLowerCase(),i="input"===n&&e.type;return"text"===i||"password"===i||"select"===n||"textarea"===n}(i))&&("audio"===s?!!i.hasAttribute("controls")&&-1!==o:"video"===s?-1!==o&&(null!==o||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,r){return function ve(e){return!function fe(e){return function me(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function ue(e){let n=e.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(e)||function pe(e){return function ge(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||vt(e))}(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(gt))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function vt(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let n=e.getAttribute("tabindex");return"-32768"!=n&&!(!n||isNaN(parseInt(n,10)))}function bt(e){if(!vt(e))return null;const n=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function yt(e){return null!=e&&"false"!=`${e}`}class ye{constructor(n,i,r,s,o=!1){this._element=n,this._checker=i,this._ngZone=r,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,i=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),i&&(i.removeEventListener("focus",this.endAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement()))})}_getRegionBoundary(n){let i=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let r=0;r<i.length;r++)i[r].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,i[r]):i[r].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,i[r]);return"start"==n?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const i=this._getFirstTabbableElement(n);return i?.focus(),!!i}return n.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const n=this._getRegionBoundary("start");return n&&n.focus(),!!n}focusLastTabbableElement(){const n=this._getRegionBoundary("end");return n&&n.focus(),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let i=n.children||n.childNodes;for(let r=0;r<i.length;r++){let s=i[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[r]):null;if(s)return s}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let i=n.children||n.childNodes;for(let r=i.length-1;r>=0;r--){let s=i[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[r]):null;if(s)return s}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,i){n?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe((0,ce.q)(1)).subscribe(n)}}let Ae=(()=>{class e{constructor(i,r,s){this._checker=i,this._ngZone=r,this._document=s}create(i,r=!1){return new ye(i,this._checker,this._ngZone,this._document,r)}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(_t),t.LFG(t.R0b),t.LFG(f.K0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),we=(()=>{class e{constructor(i,r,s){this._elementRef=i,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=s,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(i){this.focusTrap.enabled=yt(i)}get autoCapture(){return this._autoCapture}set autoCapture(i){this._autoCapture=yt(i)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(i){const r=i.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(t.SBq),t.Y36(Ae),t.Y36(f.K0))},e.\u0275dir=t.lG2({type:e,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[t.TTD]}),e})(),At=(()=>{class e{static forRoot(){return{ngModule:e,providers:[le,gt,_t]}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.ez]}),e})();var Se=m(7579),Te=m(6451),ke=m(8421),Ce=m(9751),Ee=m(5577),xe=m(1144),E=m(576),Ze=m(3268);const Ue=["addListener","removeListener"],Ie=["addEventListener","removeEventListener"],Ne=["on","off"];function H(e,n,i,r){if((0,E.m)(i)&&(r=i,i=void 0),r)return H(e,n,i).pipe((0,Ze.Z)(r));const[s,o]=function De(e){return(0,E.m)(e.addEventListener)&&(0,E.m)(e.removeEventListener)}(e)?Ie.map(a=>c=>e[a](n,c,i)):function Oe(e){return(0,E.m)(e.addListener)&&(0,E.m)(e.removeListener)}(e)?Ue.map(wt(e,n)):function Me(e){return(0,E.m)(e.on)&&(0,E.m)(e.off)}(e)?Ne.map(wt(e,n)):[];if(!s&&(0,xe.z)(e))return(0,Ee.z)(a=>H(a,n,i))((0,ke.Xf)(e));if(!s)throw new TypeError("Invalid event target");return new Ce.y(a=>{const c=(...l)=>a.next(1<l.length?l:l[0]);return s(c),()=>o(c)})}function wt(e,n){return i=>r=>e[i](n,r)}var St=m(727);class Re extends St.w0{constructor(n,i){super()}schedule(n,i=0){return this}}const $={setInterval(e,n,...i){const{delegate:r}=$;return r?.setInterval?r.setInterval(e,n,...i):setInterval(e,n,...i)},clearInterval(e){const{delegate:n}=$;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var Fe=m(8737);class Le extends Re{constructor(n,i){super(n,i),this.scheduler=n,this.work=i,this.pending=!1}schedule(n,i=0){var r;if(this.closed)return this;this.state=n;const s=this.id,o=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(o,s,i)),this.pending=!0,this.delay=i,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,i),this}requestAsyncId(n,i,r=0){return $.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,i,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return i;null!=i&&$.clearInterval(i)}execute(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,i);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,i){let s,r=!1;try{this.work(n)}catch(o){r=!0,s=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:n,scheduler:i}=this,{actions:r}=i;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Fe.P)(r,this),null!=n&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,super.unsubscribe()}}}const O={schedule(e){let n=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:r}=O;r&&(n=r.requestAnimationFrame,i=r.cancelAnimationFrame);const s=n(o=>{i=void 0,e(o)});return new St.w0(()=>i?.(s))},requestAnimationFrame(...e){const{delegate:n}=O;return(n?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:n}=O;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},Tt={now:()=>(Tt.delegate||Date).now(),delegate:void 0};class M{constructor(n,i=M.now){this.schedulerActionCtor=n,this.now=i}schedule(n,i=0,r){return new this.schedulerActionCtor(this,n).schedule(r,i)}}M.now=Tt.now;class Be extends M{constructor(n,i=M.now){super(n,i),this.actions=[],this._active=!1}flush(n){const{actions:i}=this;if(this._active)return void i.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=i.shift());if(this._active=!1,r){for(;n=i.shift();)n.unsubscribe();throw r}}}const $e=new class He extends Be{flush(n){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let s;n=n||r.shift();do{if(s=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===i&&r.shift());if(this._active=!1,s){for(;(n=r[0])&&n.id===i&&r.shift();)n.unsubscribe();throw s}}}(class qe extends Le{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,r=0){return null!==r&&r>0?super.requestAsyncId(n,i,r):(n.actions.push(this),n._scheduled||(n._scheduled=O.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,i,r=0){var s;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,i,r);const{actions:o}=n;null!=i&&(null===(s=o[o.length-1])||void 0===s?void 0:s.id)!==i&&(O.cancelAnimationFrame(i),n._scheduled=void 0)}});var P=(()=>{return(e=P||(P={})).top="top",e.bottom="bottom",e.left="left",e.right="right",e.auto="auto",e.end="right",e.start="left",e["top left"]="top left",e["top right"]="top right",e["right top"]="right top",e["right bottom"]="right bottom",e["bottom right"]="bottom right",e["bottom left"]="bottom left",e["left bottom"]="left bottom",e["left top"]="left top",e["top start"]="top left",e["top end"]="top right",e["end top"]="right top",e["end bottom"]="right bottom",e["bottom end"]="bottom right",e["bottom start"]="bottom left",e["start bottom"]="start bottom",e["start top"]="left top",P;var e})(),D=(()=>{return(e=D||(D={})).top="top",e.bottom="bottom",e.left="start",e.right="end",e.auto="auto",e.end="end",e.start="start",e["top left"]="top start",e["top right"]="top end",e["right top"]="end top",e["right bottom"]="end bottom",e["bottom right"]="bottom end",e["bottom left"]="bottom start",e["left bottom"]="start bottom",e["left top"]="start top",e["top start"]="top start",e["top end"]="top end",e["end top"]="end top",e["end bottom"]="end bottom",e["bottom end"]="bottom end",e["bottom start"]="bottom start",e["start bottom"]="start bottom",e["start top"]="start top",D;var e})();function x(e,n){if(1!==e.nodeType)return[];const r=e.ownerDocument.defaultView?.getComputedStyle(e,null);return n?r&&r[n]:r}function et(e){if(!e)return document.documentElement;let r,i=e?.offsetParent;for(;null===i&&e.nextElementSibling&&r!==e.nextElementSibling;)r=e.nextElementSibling,i=r.offsetParent;const s=i&&i.nodeName;return s&&"BODY"!==s&&"HTML"!==s?i&&-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===x(i,"position")?et(i):i:r?r.ownerDocument.documentElement:document.documentElement}function it(e){return null!==e.parentNode?it(e.parentNode):e}function J(e,n){if(!(e&&e.nodeType&&n&&n.nodeType))return document.documentElement;const i=e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=i?e:n,s=i?n:e,o=document.createRange();o.setStart(r,0),o.setEnd(s,0);const a=o.commonAncestorContainer;if(e!==a&&n!==a||r.contains(s))return function Pe(e){const{nodeName:n}=e;return"BODY"!==n&&("HTML"===n||et(e.firstElementChild)===e)}(a)?a:et(a);const c=it(e);return c.host?J(c.host,n):J(e,it(n).host)}function kt(e){if(!e||!e.parentElement)return document.documentElement;let n=e.parentElement;for(;n?.parentElement&&"none"===x(n,"transform");)n=n.parentElement;return n||document.documentElement}function Ct(e,n){const i="x"===n?"Left":"Top",r="Left"===i?"Right":"Bottom";return parseFloat(e[`border${i}Width`])+parseFloat(e[`border${r}Width`])}function Et(e,n,i,r){return Math.max(n[`offset${e}`],n[`scroll${e}`],i[`client${e}`],i[`offset${e}`],i[`scroll${e}`],0)}function xt(e){const n=e.body,i=e.documentElement;return{height:Et("Height",n,i),width:Et("Width",n,i)}}function R(e){return{...e,right:(e.left||0)+e.width,bottom:(e.top||0)+e.height}}function p(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function Zt(e){const n=e.getBoundingClientRect();if(!(n&&p(n.top)&&p(n.left)&&p(n.bottom)&&p(n.right)))return n;const i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},r="HTML"===e.nodeName?xt(e.ownerDocument):void 0,s=r?.width||e.clientWidth||p(n.right)&&p(i.left)&&n.right-i.left||0,o=r?.height||e.clientHeight||p(n.bottom)&&p(i.top)&&n.bottom-i.top||0;let a=e.offsetWidth-s,c=e.offsetHeight-o;if(a||c){const l=x(e);a-=Ct(l,"x"),c-=Ct(l,"y"),i.width-=a,i.height-=c}return R(i)}function nt(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function rt(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:n,overflowX:i,overflowY:r}=x(e);return/(auto|scroll|overlay)/.test(String(n)+String(r)+String(i))?e:rt(nt(e))}function st(e,n,i=!1){const r="HTML"===n.nodeName,s=Zt(e),o=Zt(n),c=(rt(e),x(n)),l=parseFloat(c.borderTopWidth),d=parseFloat(c.borderLeftWidth);i&&r&&(o.top=Math.max(o.top??0,0),o.left=Math.max(o.left??0,0));const h=R({top:(s.top??0)-(o.top??0)-l,left:(s.left??0)-(o.left??0)-d,width:s.width,height:s.height});if(h.marginTop=0,h.marginLeft=0,r){const g=parseFloat(c.marginTop),y=parseFloat(c.marginLeft);p(h.top)&&(h.top-=l-g),p(h.bottom)&&(h.bottom-=l-g),p(h.left)&&(h.left-=d-y),p(h.right)&&(h.right-=d-y),h.marginTop=g,h.marginLeft=y}return h}function Ut(e,n="top"){const i="top"===n?"scrollTop":"scrollLeft",r=e.nodeName;return"BODY"===r||"HTML"===r?(e.ownerDocument.scrollingElement||e.ownerDocument.documentElement)[i]:e[i]}function It(e){const n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===x(e,"position")||It(nt(e)))}function ot(e,n,i=0,r,s=!1){let o={top:0,left:0};const a=s?kt(e):J(e,n);if("viewport"===r)o=function Ve(e,n=!1){const i=e.ownerDocument.documentElement,r=st(e,i),s=Math.max(i.clientWidth,window.innerWidth||0),o=Math.max(i.clientHeight,window.innerHeight||0),a=n?0:Ut(i),c=n?0:Ut(i,"left");return R({top:a-Number(r?.top)+Number(r?.marginTop),left:c-Number(r?.left)+Number(r?.marginLeft),width:s,height:o})}(a,s);else{let c;"scrollParent"===r?(c=rt(nt(n)),"BODY"===c.nodeName&&(c=e.ownerDocument.documentElement)):c="window"===r?e.ownerDocument.documentElement:r;const l=st(c,a,s);if(l&&"HTML"===c.nodeName&&!It(a)){const{height:d,width:h}=xt(e.ownerDocument);p(o.top)&&p(l.top)&&p(l.marginTop)&&(o.top+=l.top-l.marginTop),p(o.top)&&(o.bottom=Number(d)+Number(l.top)),p(o.left)&&p(l.left)&&p(l.marginLeft)&&(o.left+=l.left-l.marginLeft),p(o.top)&&(o.right=Number(h)+Number(l.left))}else l&&(o=l)}return p(o.left)&&(o.left+=i),p(o.top)&&(o.top+=i),p(o.right)&&(o.right-=i),p(o.bottom)&&(o.bottom-=i),o}function Ye({width:e,height:n}){return e*n}function Nt(e,n,i,r,s=["top","bottom","right","left"],o="viewport",a=0){if(-1===e.indexOf("auto"))return e;const c=ot(i,r,a,o),l={top:{width:c?.width??0,height:(n?.top??0)-(c?.top??0)},right:{width:(c?.right??0)-(n?.right??0),height:c?.height??0},bottom:{width:c?.width??0,height:(c?.bottom??0)-(n?.bottom??0)},left:{width:(n.left??0)-(c?.left??0),height:c?.height??0}},d=Object.keys(l).map(b=>({position:b,...l[b],area:Ye(l[b])})).sort((b,A)=>A.area-b.area);let h=d.filter(({width:b,height:A})=>b>=i.clientWidth&&A>=i.clientHeight);h=h.filter(({position:b})=>s.some(A=>A===b));const g=h.length>0?h[0].position:d[0].position,y=e.split(" ")[1];return i.className=i.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${N().isBs5?D[g]:g}`),g+(y?`-${y}`:"")}const V=(e,n=0)=>e?parseFloat(e):n;function Ot(e){const i=e.ownerDocument.defaultView?.getComputedStyle(e),r=V(i?.marginTop)+V(i?.marginBottom),s=V(i?.marginLeft)+V(i?.marginRight);return{width:Number(e.offsetWidth)+s,height:Number(e.offsetHeight)+r}}function Mt(e,n,i){return st(n,i?kt(e):J(e,n),i)}function at(e,n,i){const r=i.split(" ")[0],s=Ot(e),o={width:s.width,height:s.height},a=-1!==["right","left"].indexOf(r),c=a?"top":"left",l=a?"left":"top",d=a?"height":"width",h=a?"width":"height";return o[c]=(n[c]??0)+n[d]/2-s[d]/2,o[l]=r===l?(n[l]??0)-s[h]:n[function We(e){const n={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,i=>n[i])}(l)]??0,o}function Dt(e,n){return!!e.modifiers[n]?.enabled}const Qe={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Y(e,n){return!!N().isBs5&&Qe[n].includes(e)}function Rt(e,n,i){!e||!n||Object.keys(n).forEach(r=>{let s="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function Je(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(Number(e))}(n[r])&&(s="px"),i?i.setStyle(e,r,`${String(n[r])}${s}`):e.style[r]=String(n[r])+s})}function Xe(e){let n=e.offsets.target;const i=e.instance.target.querySelector(".arrow");if(!i)return e;const r=-1!==["left","right"].indexOf(e.placement.split(" ")[0]),s=r?"height":"width",o=r?"Top":"Left",a=o.toLowerCase(),c=r?"left":"top",l=r?"bottom":"right",d=Ot(i)[s],h=e.placement.split(" ")[1];(e.offsets.host[l]??0)-d<(n[a]??0)&&(n[a]-=(n[a]??0)-((e.offsets.host[l]??0)-d)),Number(e.offsets.host[a])+Number(d)>(n[l]??0)&&(n[a]+=Number(e.offsets.host[a])+Number(d)-Number(n[l])),n=R(n);const g=x(e.instance.target),y=parseFloat(g[`margin${o}`])||0,b=parseFloat(g[`border${o}Width`])||0;let A;if(h){const X=parseFloat(g.borderRadius)||0,Z=Number(y+b+X);A=a===h?Number(e.offsets.host[a])+Z:Number(e.offsets.host[a])+Number(e.offsets.host[s]-Z)}else A=Number(e.offsets.host[a])+Number(e.offsets.host[s]/2-d/2);let I=A-(n[a]??0)-y-b;return I=Math.max(Math.min(n[s]-(d+5),I),0),e.offsets.arrow={[a]:Math.round(I),[c]:""},e.instance.arrow=i,e}function ti(e){if(e.offsets.target=R(e.offsets.target),!Dt(e.options,"flip"))return e.offsets.target={...e.offsets.target,...at(e.instance.target,e.offsets.host,e.placement)},e;const n=ot(e.instance.target,e.instance.host,0,"viewport",!1);let i=e.placement.split(" ")[0],r=e.placement.split(" ")[1]||"";const c=Nt("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),l=[i,c];return l.forEach((d,h)=>{if(i!==d||l.length===h+1)return;i=e.placement.split(" ")[0];const g="left"===i&&Math.floor(e.offsets.target.right??0)>Math.floor(e.offsets.host.left??0)||"right"===i&&Math.floor(e.offsets.target.left??0)<Math.floor(e.offsets.host.right??0)||"top"===i&&Math.floor(e.offsets.target.bottom??0)>Math.floor(e.offsets.host.top??0)||"bottom"===i&&Math.floor(e.offsets.target.top??0)<Math.floor(e.offsets.host.bottom??0),y=Math.floor(e.offsets.target.left??0)<Math.floor(n.left??0),b=Math.floor(e.offsets.target.right??0)>Math.floor(n.right??0),A=Math.floor(e.offsets.target.top??0)<Math.floor(n.top??0),I=Math.floor(e.offsets.target.bottom??0)>Math.floor(n.bottom??0),X="left"===i&&y||"right"===i&&b||"top"===i&&A||"bottom"===i&&I,Z=-1!==["top","bottom"].indexOf(i),Bt=Z&&"left"===r&&y||Z&&"right"===r&&b||!Z&&"left"===r&&A||!Z&&"right"===r&&I;(g||X||Bt)&&((g||X)&&(i=l[h+1]),Bt&&(r=function je(e){return"right"===e?"left":"left"===e?"right":e}(r)),e.placement=i+(r?` ${r}`:""),e.offsets.target={...e.offsets.target,...at(e.instance.target,e.offsets.host,e.placement)})}),e}function ii(e){if(!Dt(e.options,"preventOverflow"))return e;const n="transform",i=e.instance.target.style,{top:r,left:s,[n]:o}=i;i.top="",i.left="",i[n]="";const a=ot(e.instance.target,e.instance.host,0,e.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);i.top=r,i.left=s,i[n]=o;const l={primary(d){let h=e.offsets.target[d];return(e.offsets.target[d]??0)<(a[d]??0)&&(h=Math.max(e.offsets.target[d]??0,a[d]??0)),{[d]:h}},secondary(d){const h="right"===d,g=h?"left":"top";let b=e.offsets.target[g];return(e.offsets.target[d]??0)>(a[d]??0)&&(b=Math.min(e.offsets.target[g]??0,(a[d]??0)-e.offsets.target[h?"width":"height"])),{[g]:b}}};return["left","right","top","bottom"].forEach(d=>{const h=-1!==["left","top","start"].indexOf(d)?l.primary:l.secondary;e.offsets.target={...e.offsets.target,...h(d)}}),e}function ni(e){const n=e.placement,i=n.split(" ")[0],r=n.split(" ")[1];if(r){const{host:s,target:o}=e.offsets,a=-1!==["bottom","top"].indexOf(i),c=a?"left":"top",l=a?"width":"height",d={start:{[c]:s[c]},end:{[c]:(s[c]??0)+s[l]-o[l]}};e.offsets.target={...o,[c]:c===r?d.start[c]:d.end[c]}}return e}const si=new class ri{position(n,i){return this.offset(n,i)}offset(n,i){return Mt(i,n)}positionElements(n,i,r,s,o){const a=[ti,ni,ii,Xe],l=function ei(e,n,i,r){if(!e||!n)return;const s=Mt(e,n);!i.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!i.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(i="auto");const o=!!i.match(/auto/g);let a=i.match(/auto\s(left|right|top|bottom|start|end)/)?i.split(" ")[1]||"auto":i;const c=a.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return c&&(a=c[1]+(c[2]?` ${c[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(a)&&(a="auto"),a=Nt(a,s,e,n,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:e,host:n,arrow:void 0},offsets:{target:at(e,s,a),host:s,arrow:void 0},positionFixed:!1,placement:a,placementAuto:o}}(i,n,P[r],o);if(l)return a.reduce((d,h)=>h(d),l)}};function oi(e,n,i,r,s,o){const a=si.positionElements(e,n,i,r,s);if(!a)return;const c=function Ge(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left??0),top:Math.round(e.offsets.target.top??0),bottom:Math.round(e.offsets.target.bottom??0),right:Math.floor(e.offsets.target.right??0)}}(a);Rt(n,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${c.left}px, ${c.top}px, 0px)`},o),a.instance.arrow&&Rt(a.instance.arrow,a.offsets.arrow,o),function Ke(e,n){const i=e.instance.target;let r=i.className;const s=N().isBs5?D[e.placement]:e.placement;e.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${s}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${s}`),r=r.replace(/\sauto/g,` ${s}`),-1!==r.indexOf("popover")&&(r=r+" "+function ze(e){return N().isBs5?Y(e,"end")?"ms-2":Y(e,"start")?"me-2":Y(e,"top")?"mb-2":Y(e,"bottom")?"mt-2":"":""}(s)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${s.split(" ")[0]}`),n?n.setAttribute(i,"class",r):i.className=r}(a,o)}let ct=(()=>{class e{constructor(i,r,s){this.update$$=new Se.x,this.positionElements=new Map,this.isDisabled=!1,(0,f.NF)(s)&&i.runOutsideAngular(()=>{this.triggerEvent$=(0,Te.T)(H(window,"scroll",{passive:!0}),H(window,"resize",{passive:!0}),(0,U.of)(0,$e),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(o=>{oi(G(o.target),G(o.element),o.attachment,o.appendToBody,this.options,r.createRenderer(null,null))})})})}position(i){this.addPositionElement(i)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(i){this.positionElements.set(G(i.element),i)}calcPosition(){this.update$$.next(null)}deletePositionElement(i){this.positionElements.delete(G(i))}setOptions(i){this.options=i}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(t.R0b),t.LFG(t.FYo),t.LFG(t.Lbi))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function G(e){return"string"==typeof e?document.querySelector(e):e instanceof t.SBq?e.nativeElement:e??null}class F{constructor(n,i,r){this.nodes=n,this.viewRef=i,this.componentRef=r}}class ai{constructor(n,i,r,s,o,a,c,l,d){this._viewContainerRef=n,this._renderer=i,this._elementRef=r,this._injector=s,this._componentFactoryResolver=o,this._ngZone=a,this._applicationRef=c,this._posService=l,this._document=d,this.onBeforeShow=new t.vpe,this.onShown=new t.vpe,this.onBeforeHide=new t.vpe,this.onHidden=new t.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(n){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(n),this}to(n){return this.container=n||this.container,this}position(n){return n?(this.attachment=n.attachment||this.attachment,this._elementRef=n.target||this._elementRef,this):this}provide(n){return this._providers.push(n),this}show(n={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(n.content,n.context,n.initialState);const i=t.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(i,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,n),this.container instanceof t.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const r=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(n.id?{id:n.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(n){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const i=this._componentRef.location.nativeElement;return i.parentNode?.removeChild(i),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(n?{id:n}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(n){this.triggers=n.triggers||this.triggers,this._listenOpts.outsideClick=n.outsideClick,this._listenOpts.outsideEsc=n.outsideEsc,n.target=n.target||this._elementRef?.nativeElement;const i=this._listenOpts.hide=()=>n.hide?n.hide():void this.hide(),r=this._listenOpts.show=o=>{n.show?n.show(o):this.show(o),o()};return this._renderer&&(this._unregisterListenersFn=function te(e,n){const i=function ft(e,n=Xt){const i=(e||"").trim();if(0===i.length)return[];const r=i.split(/\s+/).map(o=>o.split(":")).map(o=>{const a=n[o[0]]||o;return new Kt(a[0],a[1])}),s=r.filter(o=>o.isManual());if(s.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===s.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(n.triggers),r=n.target;if(1===i.length&&i[0].isManual())return Function.prototype;const s=[],o=[],a=()=>{o.forEach(c=>s.push(c())),o.length=0};return i.forEach(c=>{const l=c.open===c.close,d=l?n.toggle:n.show;if(!l&&c.close&&n.hide){const h=c.close,g=n.hide;o.push(()=>e.listen(r,h,g))}d&&s.push(e.listen(r,c.open,()=>d(a)))}),()=>{s.forEach(c=>c())}}(this._renderer,{target:n.target,triggers:n.triggers,show:r,hide:i,toggle:o=>{this.isShown?i():r(o)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(n,i){return n&&i&&(this._inlineViewRef=n.createEmbeddedView(i)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const n=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function ee(e,n){return n.outsideClick?e.listen("document","click",i=>{n.target&&n.target.contains(i.target)||n.targets&&n.targets.some(r=>r.contains(i.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function ie(e,n){return n.outsideEsc?e.listen("document","keyup.esc",i=>{n.target&&n.target.contains(i.target)||n.targets&&n.targets.some(r=>r.contains(i.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(n,i,r){if(!n)return new F([]);if(n instanceof t.Rgc){if(this._viewContainerRef){const a=this._viewContainerRef.createEmbeddedView(n,i);return a.markForCheck(),new F([a.rootNodes],a)}const o=n.createEmbeddedView({});return this._applicationRef.attachView(o),new F([o.rootNodes],o)}if("function"==typeof n){const o=this._componentFactoryResolver.resolveComponentFactory(n),a=t.zs3.create({providers:this._providers,parent:this._injector}),c=o.create(a);return Object.assign(c.instance,r),this._applicationRef.attachView(c.hostView),new F([[c.location.nativeElement]],c.hostView,c)}const s=this._renderer?[this._renderer.createText(`${n}`)]:[];return new F([s])}}let lt=(()=>{class e{constructor(i,r,s,o,a,c){this._componentFactoryResolver=i,this._ngZone=r,this._injector=s,this._posService=o,this._applicationRef=a,this._document=c}createLoader(i,r,s){return new ai(r,s,i,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(t._Vd),t.LFG(t.R0b),t.LFG(t.zs3),t.LFG(ct),t.LFG(t.z2F),t.LFG(f.K0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ci=["*"];let Ft=(()=>{class e{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Lt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const W={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},li=new t.OlP("override-default-config");let di=(()=>{class e{constructor(i,r,s){this._element=r,this._renderer=s,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},i)}ngOnInit(){this._focusEl=v.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),v&&v.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(v.body,"modal-open"),this._renderer.setStyle(v.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(i){this.clickStartedInContent=i.target!==this._element.nativeElement}onClickStop(i){this.config.ignoreBackdropClick||"static"===this.config.backdrop||i.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(i){this.isShown&&((27===i.keyCode||"Escape"===i.key)&&i.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,v&&v.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(v.body,"modal-open"),this._renderer.setStyle(v.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(Lt),t.Y36(t.SBq),t.Y36(t.Qsj))},e.\u0275cmp=t.Xpm({type:e,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(i,r){1&i&&t.NdJ("mousedown",function(o){return r.onClickStarted(o)})("click",function(o){return r.onClickStop(o)})("popstate",function(){return r.onPopState()},!1,t.Jf7)("keydown.esc",function(o){return r.onEsc(o)},!1,t.Jf7),2&i&&t.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:ci,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(i,r){1&i&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.qZA()()),2&i&&t.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},dependencies:[we],encapsulation:2}),e})(),hi=(()=>{class e{constructor(i,r){this._isAnimated=!1,this._isShown=!1,this.element=i,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(i){this._isAnimated=i}get isShown(){return this._isShown}set isShown(i){this._isShown=i,i?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),oe.reflow(this.element.nativeElement)),this.isShown=!0}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(t.SBq),t.Y36(t.Qsj))},e.\u0275cmp=t.Xpm({type:e,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(i,r){},encapsulation:2}),e})(),ui=1,Q=(()=>{class e{constructor(i,r,s){this.clf=r,this.modalDefaultOption=s,this.onShow=new t.vpe,this.onShown=new t.vpe,this.onHide=new t.vpe,this.onHidden=new t.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=i.createRenderer(null,null),this.config=s?Object.assign({},W,s):W}show(i,r){this._focusEl=v.activeElement,this.modalsCount++,this._createLoaders();const s=r?.id||ui++;return this.config=this.modalDefaultOption?Object.assign({},W,this.modalDefaultOption,r):Object.assign({},W,r),this.config.id=s,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(i)}hide(i){(1===this.modalsCount||null==i)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=i?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(i),this.removeLoaders(i)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const i=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),i&&r&&(this._backdropLoader.attach(hi).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(i){const r=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const a of this.config.providers)r.provide(a);const s=new Ft,o=r.provide({provide:Lt,useValue:this.config}).provide({provide:Ft,useValue:s}).attach(di).to("body");return s.hide=()=>this.hide(s.id),s.setClass=a=>{o.instance&&(o.instance.config.class=a)},s.onHidden=new t.vpe,s.onHide=new t.vpe,this.copyEvent(r.onBeforeHide,s.onHide),this.copyEvent(r.onHidden,s.onHidden),o.show({content:i,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),o.instance&&(o.instance.level=this.getModalsCount(),s.content=r.getInnerComponent(),s.id=o.instance.config?.id),s}_hideModal(i){if(null!=i){const r=this.loaders.findIndex(o=>o.instance?.config.id===i),s=this.loaders[r];s&&s.hide(i)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(i){this.lastDismissReason=i}removeBackdrop(){this._renderer.removeClass(v.body,"modal-open"),this._renderer.setStyle(v.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=v.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){v&&(this.originalBodyPadding=parseInt(window.getComputedStyle(v.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(v.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){v.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const i=this._renderer.createElement("div");this._renderer.addClass(i,"modal-scrollbar-measure"),this._renderer.appendChild(v.body,i);const r=i.offsetWidth-i.clientWidth;return this._renderer.removeChild(v.body,i),r}_createLoaders(){const i=this.clf.createLoader();this.copyEvent(i.onBeforeShow,this.onShow),this.copyEvent(i.onShown,this.onShown),this.copyEvent(i.onBeforeHide,this.onHide),this.copyEvent(i.onHidden,this.onHidden),this.loaders.push(i)}removeLoaders(i){if(null!=i){const r=this.loaders.findIndex(s=>s.instance?.config.id===i);r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((s,o)=>{s.instance&&(s.instance.level=o+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(i,r){i.subscribe(s=>{r.emit(this.lastDismissReason||s)})}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(t.FYo),t.LFG(lt),t.LFG(li,8))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();At.forRoot();let fi=(()=>{class e{static forRoot(){return{ngModule:e,providers:[Q,lt,ct]}}static forChild(){return{ngModule:e,providers:[Q,lt,ct]}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[At]}),e})();function pi(e,n){1&e&&(t.TgZ(0,"div",13),t._uU(1," Id must be provided "),t.qZA())}function mi(e,n){1&e&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2,"You are Super Admin !!! not see your own attendance "),t.qZA()())}const gi=function(){return["/mark-attendance"]};function _i(e,n){1&e&&(t.TgZ(0,"a",15)(1,"button",16),t._uU(2," Add Attendence"),t.qZA()()),2&e&&t.Q6J("routerLink",t.DdM(1,gi))}function vi(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"tr",6)(1,"td",7),t._uU(2),t.qZA(),t.TgZ(3,"td",8),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",8),t._uU(7),t.qZA(),t.TgZ(8,"td",9),t._UZ(9,"img",17),t.qZA(),t.TgZ(10,"td",9)(11,"button",18),t.NdJ("click",function(){const o=t.CHM(i).$implicit,a=t.oxw(),c=t.MAs(21);return t.KtG(a.openModal(c,o))}),t._uU(12,"view image"),t.qZA()()()}if(2&e){const i=n.$implicit,r=n.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(t.xi3(5,4,null==i?null:i.date,"medium")),t.xp6(3),t.Oqu(null==i?null:i.date),t.xp6(2),t.s9C("src",null==i?null:i.img,t.LSH)}}function bi(e,n){1&e&&(t.TgZ(0,"tr")(1,"td",19),t._uU(2," No record found"),t.qZA()())}function yi(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div",20)(1,"h4",21),t._uU(2,"View Attendance Data"),t.qZA(),t.TgZ(3,"button",22),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.closeModal())}),t.TgZ(4,"span",23),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",24)(7,"h6")(8,"span"),t._uU(9),t.ALo(10,"date"),t.qZA()(),t._UZ(11,"img",25),t.qZA()}if(2&e){const i=t.oxw();t.xp6(9),t.Oqu(t.xi3(10,2,null==i.popupData?null:i.popupData.date,"medium")),t.xp6(2),t.s9C("src",i.popupData.img,t.LSH)}}let Ai=(()=>{const n=class{constructor(r,s,o,a,c){this.modalService=r,this.route=s,this.dataBaseService=o,this.authService=a,this.commonService=c,this.attendenceList=[],this.id="",this.currentDate=new Date,this.allowAttendance=!1,this.authService.currentUser.subscribe(l=>this.currentUser=l),this.route.queryParams.subscribe(l=>{this.id=l.id,this.id&&this.getuserAttendelist(this.id)})}checkForAttendance(){try{if(this.currentUser?.id===this.id&&this.attendenceList?.length>0){let r=new Date,s=new Date(this.attendenceList[this.attendenceList.length-1].date);this.allowAttendance=!this.commonService.compareDate(r,s)}}catch{}}openModal(r,s){s&&(this.popupData=s),this.modalRef=this.modalService.show(r,{ignoreBackdropClick:!0})}closeModal(){this.modalRef?.hide()}getuserAttendelist(r){try{this.attendenceList=this.dataBaseService.getAttendacebyId(r),this.checkForAttendance()}catch{}}};let e=n;return n.\u0275fac=function(s){return new(s||n)(t.Y36(Q),t.Y36(w.gz),t.Y36(k),t.Y36(C.$),t.Y36(q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-attendance-list"]],decls:22,vars:5,consts:[[1,"m-3","table-responsive"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"float-end"],[3,"routerLink",4,"ngIf"],[1,"table","table-striped","table-hover","table-bordered"],[1,"text-center"],["colspan","1"],["colspan","3"],["colspan","4"],["class","text-center",4,"ngFor","ngForOf"],[4,"ngIf"],["viewImage",""],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],[3,"routerLink"],[1,"btn","btn-primary"],["alt","attendance img","srcset","","width","50","height","50",3,"src"],[1,"btn","btn-secondary",3,"click"],["colspan","12",1,"text-center"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","btn-close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","text-center"],["alt","","srcset","","width","250","height","250",3,"src"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0),t.YNc(1,pi,2,0,"div",1),t.YNc(2,mi,3,0,"div",2),t.TgZ(3,"div",3),t.YNc(4,_i,3,2,"a",4),t.qZA(),t.TgZ(5,"table",5)(6,"thead")(7,"tr",6),t._UZ(8,"th",7),t.TgZ(9,"th",8),t._uU(10,"Date"),t.qZA(),t.TgZ(11,"th",8),t._uU(12,"Date"),t.qZA(),t.TgZ(13,"th",9),t._uU(14,"Image"),t.qZA(),t.TgZ(15,"th",9),t._uU(16,"Action"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,vi,13,7,"tr",10),t.YNc(19,bi,3,0,"tr",11),t.qZA()()(),t.YNc(20,yi,12,5,"ng-template",null,12,t.W1O)),2&s&&(t.xp6(1),t.Q6J("ngIf","superadmin"!==o.currentUser.role&&!o.id),t.xp6(1),t.Q6J("ngIf","superadmin"===o.currentUser.role&&o.currentUser.id===o.id),t.xp6(2),t.Q6J("ngIf",o.allowAttendance),t.xp6(14),t.Q6J("ngForOf",o.attendenceList),t.xp6(1),t.Q6J("ngIf",0===o.attendenceList.length))},dependencies:[f.sg,f.O5,w.rH,f.uU]}),e})(),qt=(()=>{const n=class{constructor(r){this.dbService=r}addAttendence(r){try{return this.dbService.addAtendancebyId(r)}catch(s){return(0,U.of)(s)}}};let e=n;return n.\u0275fac=function(s){return new(s||n)(t.LFG(k))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),e})();const wi=["videoElement"],Si=["canvas"];function Ti(e,n){1&e&&t._UZ(0,"video",13,14)}function ki(e,n){1&e&&t._UZ(0,"canvas",15,16)}function Ci(e,n){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"img",17),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("src",i.capturedImage,t.LSH)}}let Ei=(()=>{const n=class{constructor(r,s,o,a){this.attendanceService=r,this.commonService=s,this.auth=o,this.router=a,this.isVideoPlaying=!1,this.complete=new t.vpe,o.currentUser.subscribe(c=>this.currentUser=c)}ngOnInit(){this.startWebcam()}startWebcam(){try{navigator.mediaDevices.getUserMedia({video:!0}).then(r=>{this.isVideoPlaying=!0,setTimeout(()=>{const s=this.videoElement.nativeElement;s.srcObject=r,s.play()},0)}).catch(r=>{console.error("Error accessing the webcam: ",r)})}catch{}}captureImage(){try{const r=this.videoElement.nativeElement,s=this.canvas.nativeElement,o=s.getContext("2d");o&&(s.width=r.videoWidth,s.height=r.videoHeight,o.drawImage(r,0,0,s.width,s.height),this.capturedImage=s.toDataURL("image/png"))}catch{}}captureRetake(){try{this.capturedImage?(this.capturedImage=null,this.startWebcam()):this.captureImage()}catch{}}stopWebcam(){try{if(!this.videoElement?.nativeElement)return;const r=this.videoElement.nativeElement;r.srcObject.getTracks().forEach(a=>{a.stop()}),r.srcObject=null,this.isVideoPlaying=!1}catch{}}save(){try{if(!this.capturedImage||null==this.capturedImage)return;let r={id:this.commonService.generateCryptoId(16),date:new Date,img:this.capturedImage||"",userId:this.currentUser.id,managerId:this.currentUser.managerId};this.attendanceService.addAttendence(r).subscribe(s=>{console.log(s),this.router.navigate(["/attendance"],{queryParams:{id:this.currentUser.id}}),this.close()})}catch{}}close(){this.stopWebcam()}ngOnDestroy(){this.stopWebcam()}};let e=n;return n.\u0275fac=function(s){return new(s||n)(t.Y36(qt),t.Y36(q),t.Y36(C.$),t.Y36(w.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mark-attendance"]],viewQuery:function(s,o){if(1&s&&(t.Gf(wi,5),t.Gf(Si,5)),2&s){let a;t.iGM(a=t.CRH())&&(o.videoElement=a.first),t.iGM(a=t.CRH())&&(o.canvas=a.first)}},outputs:{complete:"complete"},decls:18,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"modal-title","pull-left"],[1,"card-body","container"],[1,"row"],[1,"col-md-6"],["class","video-image",4,"ngIf"],["style","display: none;",4,"ngIf"],[4,"ngIf"],[1,"justify-content-center","float-center"],[1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"btn","btn-secondary","btn-sm",3,"disabled","click"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"video-image"],["videoElement",""],[2,"display","none"],["canvas",""],["alt","Captured Image",1,"video-image",3,"src"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3,"Mark Attendance"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t.YNc(7,Ti,2,0,"video",6),t.YNc(8,ki,2,0,"canvas",7),t.qZA(),t.TgZ(9,"div",5),t.YNc(10,Ci,2,1,"div",8),t.qZA()(),t.TgZ(11,"div",9)(12,"button",10),t.NdJ("click",function(){return o.captureRetake()}),t._uU(13),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return o.save()}),t._uU(15,"Save"),t.qZA(),t.TgZ(16,"button",12),t.NdJ("click",function(){return o.stopWebcam()}),t._uU(17,"stop webcam"),t.qZA()()()()),2&s&&(t.xp6(7),t.Q6J("ngIf",o.isVideoPlaying),t.xp6(1),t.Q6J("ngIf",o.isVideoPlaying),t.xp6(2),t.Q6J("ngIf",o.capturedImage),t.xp6(2),t.Q6J("disabled",!(o.isVideoPlaying||o.capturedImage&&null!=o.capturedImage)),t.xp6(1),t.Oqu(o.capturedImage?"Retake ":"Capture Image"),t.xp6(1),t.Q6J("disabled",!o.capturedImage||null==o.capturedImage))},dependencies:[f.O5],styles:[".video-image[_ngcontent-%COMP%]{width:100%;max-height:100%}"]}),e})();const xi=JSON.parse('[{"key":"userName","type":"input","hidden":false,"option":{"label":"Name","placeholder":"Enter  Name","required":true,"type":"text"}},{"key":"role","type":"dropdown","hidden":false,"option":{"label":"Role","placeholder":"Choose Role ","required":true,"list":[{"id":"8c7b2b5c57025522","name":"Manager","value":"manager"},{"id":"f21ba8d56b5a1b0c","name":"Staff","value":"Sstaff"},{"id":"0d3785649732a095","name":"Super Admin","value":"superadmin"}]}},{"key":"shift","type":"dropdown","option":{"label":"Shift","placeholder":"Choose Shift ","required":true,"list":[{"id":"da754bc56b272f51","name":"Day","value":"day"},{"id":"d68d576663ebaaa9","name":"Night","value":"night"}]}},{"key":"workingDays","type":"dropdown","hidden":false,"option":{"label":"Working Days","placeholder":"Choose Working Days ","required":true,"list":[{"id":"665f261c07acbd79","name":"Mon-Fri","value":"Mon-Fri"},{"id":"fb92ab801519d320","name":"Mon-Sat","value":"Mon-Sat"},{"id":"1f6142536298ad3e","name":"Sun-Fri","value":"Sun-Fri"},{"id":"6e894d8f14eb4e18","name":"Tue-Sun","value":"Tue-Sun"}]}},{"key":"workingTime","type":"dropdown","hidden":false,"option":{"label":"Working Time","placeholder":"Choose Working Time ","required":true,"list":[{"id":"a0750d14d3b67004","name":"10:00 am - 06:00 pm","value":"10:00am-06:00pm"},{"id":"327b398ad3e38567","name":"09:00 am - 05:00 pm","value":"09:00am-05:00pm"},{"id":"318fb8f62f2ace16","name":"11:00 am - 07:00 pm","value":"11:00am-07:00pm"},{"id":"db9c298a05fe21d6","name":"08:00 am - 04:00 pm","value":"08:00am-04:00pm"},{"id":"c2bda8b611464ac0","name":"12:00 pm - 08:00 pm","value":"12:00pm-08:00pm"},{"id":"c4426fdff0c7d32b","name":"01:00 pm - 09:00 pm","value":"01:00pm-09:00pm"}]}},{"key":"email","type":"input","option":{"label":"Email","placeholder":"Enter Email","required":true,"pattern":"email","type":"text"},"hidden":false},{"key":"password","type":"input","option":{"label":"Password","placeholder":"Enter Password","required":true,"type":"text"},"hidden":false}]');var z=(()=>{return(e=z||(z={})).mobileNumber="[6-9][0-9]{9}",e.name="^[a-zA-Z !&*()]+$",e.email="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",z;var e})();function Zi(e,n){if(1&e&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&e){const i=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",i.option.label," is required")}}const K=function(e){return{"is-invalid":e}};function Ui(e,n){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"input",10),t.YNc(2,Zi,2,1,"div",11),t.qZA()),2&e){const i=t.oxw(2).$implicit,r=t.oxw();t.xp6(1),t.Q6J("formControlName",i.key)("placeholder",null==i.option?null:i.option.placeholder)("ngClass",t.VKq(4,K,r.isSubmitted&&r.formGroup.controls[i.key].errors)),t.xp6(1),t.Q6J("ngIf",null==r.formGroup.controls[i.key].errors?null:r.formGroup.controls[i.key].errors.required)}}function Ii(e,n){if(1&e&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&e){const i=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",i.option.label," is required")}}function Ni(e,n){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"textarea",13),t.YNc(2,Ii,2,1,"div",11),t.qZA()),2&e){const i=t.oxw(2).$implicit,r=t.oxw();t.xp6(1),t.Q6J("formControlName",i.key)("placeholder",null==i.option?null:i.option.placeholder)("ngClass",t.VKq(4,K,r.isSubmitted&&r.formGroup.controls[i.key].errors)),t.xp6(1),t.Q6J("ngIf",null==r.formGroup.controls[i.key].errors?null:r.formGroup.controls[i.key].errors.required)}}function Oi(e,n){if(1&e&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&e){const i=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",i.option.label," is required")}}function Mi(e,n){if(1&e&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&e){const i=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",i.option.label," is invalid")}}function Di(e,n){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"input",14),t.YNc(2,Oi,2,1,"div",11),t.YNc(3,Mi,2,1,"div",11),t.qZA()),2&e){const i=t.oxw(2).$implicit,r=t.oxw();t.xp6(1),t.Q6J("type",i.option.type?i.option.type:"text")("formControlName",i.key)("placeholder",(null==i.option?null:i.option.placeholder)||i.option.label)("ngClass",t.VKq(6,K,r.isSubmitted&&r.formGroup.controls[i.key].errors)),t.xp6(1),t.Q6J("ngIf",null==r.formGroup.controls[i.key].errors?null:r.formGroup.controls[i.key].errors.required),t.xp6(1),t.Q6J("ngIf",null==r.formGroup.controls[i.key].errors?null:r.formGroup.controls[i.key].errors.pattern)}}function Ri(e,n){if(1&e&&(t.TgZ(0,"option",18)(1,"h6"),t._uU(2),t.qZA()()),2&e){const i=n.$implicit;t.Q6J("value",i.value),t.xp6(2),t.Oqu(i.name)}}function Fi(e,n){if(1&e&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&e){const i=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",i.option.label," is required")}}function Li(e,n){if(1&e&&(t.TgZ(0,"div")(1,"select",15)(2,"option",16),t._uU(3),t.qZA(),t.YNc(4,Ri,3,2,"option",17),t.qZA(),t.YNc(5,Fi,2,1,"div",11),t.qZA()),2&e){const i=t.oxw(2).$implicit,r=t.oxw();t.xp6(1),t.Q6J("formControlName",i.key)("ngClass",t.VKq(5,K,r.isSubmitted&&r.formGroup.controls[i.key].errors)),t.xp6(2),t.Oqu(null==i.option?null:i.option.placeholder),t.xp6(1),t.Q6J("ngForOf",null==i||null==i.option?null:i.option.list),t.xp6(1),t.Q6J("ngIf",null==r.formGroup.controls[i.key].errors?null:r.formGroup.controls[i.key].errors.required)}}function qi(e,n){if(1&e&&(t.TgZ(0,"div")(1,"label",7),t._uU(2),t.qZA(),t.TgZ(3,"div",8),t.YNc(4,Ui,3,6,"div",9),t.YNc(5,Ni,3,6,"div",9),t.YNc(6,Di,4,8,"div",9),t.YNc(7,Li,6,7,"div",9),t.qZA()()),2&e){const i=t.oxw().$implicit;t.xp6(2),t.hij("",i.option.label," "),t.xp6(1),t.Q6J("ngSwitch",i.type),t.xp6(1),t.Q6J("ngSwitchCase","date"),t.xp6(1),t.Q6J("ngSwitchCase","textarea"),t.xp6(1),t.Q6J("ngSwitchCase","input"),t.xp6(1),t.Q6J("ngSwitchCase","dropdown")}}function Bi(e,n){if(1&e&&(t.TgZ(0,"div",5),t.YNc(1,qi,8,6,"div",6),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Q6J("ngIf",!(null!=i&&i.hidden))}}let Hi=(()=>{const n=class{constructor(r,s){this.fb=r,this.databaseService=s,this.formGroup=this.fb.group({}),this.form=xi,this.isSubmitted=!1,this.complete=new t.vpe,this.updateList()}ngOnInit(){this.createForm(this.form),this.isAdd||this.formGroup.patchValue(this.empDetail)}createForm(r){try{for(let s of r){s.hidden=!1;const o=new u.NI;s.option.required&&o.setValidators(u.kI.required),s.option.pattern&&"email"==s.key&&o.setValidators(u.kI.pattern(z.email)),o.updateValueAndValidity(),this.formGroup.addControl(s.key,o),this.isAdd||("userName"===s.key?this.formGroup.controls[s.key].disable():"password"===s.key&&(s.hidden=!0))}}catch{}}submit(){try{if(this.isSubmitted=!0,this.formGroup.invalid)return;this.isAdd?this.databaseService.addUser(this.formGroup.value):(this.formGroup.value.userName&&this.formGroup.controls.userName.enable(),this.databaseService.updateUser(this.empDetail,this.formGroup.value)),this.isSubmitted=!1,this.cancle(!0)}catch{}}cancle(r=!1){this.complete.emit(r)}updateList(){try{let r=this.databaseService.getSetting();for(let s of this.form)s?.option?.list&&r[s.key]&&(s.option.list=r[s.key])}catch{}}};let e=n;return n.\u0275fac=function(s){return new(s||n)(t.Y36(u.qu),t.Y36(k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-update-staff"]],inputs:{empDetail:"empDetail",isAdd:"isAdd"},outputs:{complete:"complete"},decls:7,vars:2,consts:[[1,"row",3,"formGroup"],["class","form-group mb-2 col-6",4,"ngFor","ngForOf"],[1,"m-4"],[1,"btn","btn-primary","mx-1",3,"click"],[1,"btn","btn-secondary","mx-1",3,"click"],[1,"form-group","mb-2","col-6"],[4,"ngIf"],[1,"col-md-12","mb-2","mr-1"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","date",1,"form-control",3,"formControlName","placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],["type","text","rows","4",1,"form-control",3,"formControlName","placeholder","ngClass"],[1,"form-control",3,"type","formControlName","placeholder","ngClass"],[1,"form-control",3,"formControlName","ngClass"],["selected","selected","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(s,o){1&s&&(t.TgZ(0,"form",0),t.YNc(1,Bi,2,1,"div",1),t.qZA(),t.TgZ(2,"div",2)(3,"button",3),t.NdJ("click",function(){return o.submit()}),t._uU(4," Submit"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return o.cancle()}),t._uU(6," Cancel "),t.qZA()()),2&s&&(t.Q6J("formGroup",o.formGroup),t.xp6(1),t.Q6J("ngForOf",o.form))},dependencies:[f.mk,f.sg,f.O5,f.RF,f.n9,u._Y,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,u.JL,u.sg,u.u]}),e})();const $i=function(){return["/attendance"]},Pi=function(e){return{id:e}};function Ji(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"uppercase"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"uppercase"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"uppercase"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"uppercase"),t.qZA(),t.TgZ(19,"td")(20,"button",9),t._uU(21,"View"),t.qZA()(),t.TgZ(22,"td")(23,"button",10),t.NdJ("click",function(){const o=t.CHM(i).$implicit,a=t.oxw(),c=t.MAs(29);return t.KtG(a.openModal(c,!1,o))}),t._uU(24,"Edit"),t.qZA()()()}if(2&e){const i=n.$implicit,r=n.index;t.xp6(2),t.hij("",r+1," "),t.xp6(2),t.hij("",i.userName," "),t.xp6(2),t.hij("",i.email," "),t.xp6(2),t.Oqu(t.lcZ(9,9,null==i?null:i.role)),t.xp6(3),t.Oqu(t.lcZ(12,11,null==i?null:i.shift)),t.xp6(3),t.Oqu(t.lcZ(15,13,null==i?null:i.workingTime)),t.xp6(3),t.hij(" ",t.lcZ(18,15,null==i?null:i.workingDays),""),t.xp6(3),t.Q6J("routerLink",t.DdM(17,$i))("queryParams",t.VKq(18,Pi,i.id))}}function Vi(e,n){1&e&&(t.TgZ(0,"tr")(1,"td",11),t._uU(2," No record found"),t.qZA()())}function Yi(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div",12)(1,"h4",13),t._uU(2,"Add Staff"),t.qZA(),t.TgZ(3,"button",14),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.closeModal())}),t.TgZ(4,"span",15),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",16)(7,"app-add-update-staff",17),t.NdJ("complete",function(s){t.CHM(i);const o=t.oxw();return t.KtG(o.closeModal(s))}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(7),t.Q6J("isAdd",i.isAdd)("empDetail",i.empDetails)}}let Gi=(()=>{const n=class{constructor(r,s,o){this.authService=r,this.modalService=s,this.databaseServie=o,this.staff=[],this.isAdd=!0,this.authService.currentUser.subscribe(a=>{this.currentUser=a,console.log(this.currentUser),this.getUser()})}openModal(r,s,o){try{this.isAdd=s,this.isAdd||(this.empDetails=o),this.modalRef=this.modalService.show(r,{ignoreBackdropClick:!0})}catch{}}closeModal(r){r&&this.getUser(),this.modalRef?.hide()}getUser(){try{"superadmin"===this.currentUser?.role?this.staff=this.databaseServie.getAllUsers():"manager"===this.currentUser?.role&&(this.staff=this.databaseServie.getUserByManagerId(this.currentUser?.id))}catch{}}};let e=n;return n.\u0275fac=function(s){return new(s||n)(t.Y36(C.$),t.Y36(Q),t.Y36(k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-staff-list"]],decls:30,vars:2,consts:[[1,"m-3","table-responsive"],[1,"float-end"],[3,"click"],[1,"btn","btn-primary"],[1,"table","table-striped","table-hover","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["template",""],[1,"btn","btn-secondary",3,"routerLink","queryParams"],[1,"btn","btn-secondary",3,"click"],["colspan","12",1,"text-center"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","btn-close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"isAdd","empDetail","complete"]],template:function(s,o){if(1&s){const a=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){t.CHM(a);const l=t.MAs(29);return t.KtG(o.openModal(l,!0))}),t.TgZ(3,"button",3),t._uU(4," Add User"),t.qZA()()(),t.TgZ(5,"table",4)(6,"thead")(7,"tr"),t._UZ(8,"th",5),t.TgZ(9,"th",5),t._uU(10,"Name"),t.qZA(),t.TgZ(11,"th",5),t._uU(12,"Email"),t.qZA(),t.TgZ(13,"th",5),t._uU(14,"Role"),t.qZA(),t.TgZ(15,"th",5),t._uU(16,"Shift"),t.qZA(),t.TgZ(17,"th",5),t._uU(18,"Working Time"),t.qZA(),t.TgZ(19,"th",5),t._uU(20,"Working Days"),t.qZA(),t.TgZ(21,"th",5),t._uU(22,"Attendence"),t.qZA(),t.TgZ(23,"th",5),t._uU(24,"Action"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,Ji,25,20,"tr",6),t.YNc(27,Vi,3,0,"tr",7),t.qZA()()(),t.YNc(28,Yi,8,2,"ng-template",null,8,t.W1O)}2&s&&(t.xp6(26),t.Q6J("ngForOf",o.staff),t.xp6(1),t.Q6J("ngIf",0===o.staff.length))},dependencies:[f.sg,f.O5,w.rH,Hi,f.gd]}),e})();const Wi=JSON.parse('[{"key":"role","placeholder":"Enter Role","error":"Enter valid value","pattern":"^[A-Za-z ]*$","ex":"Manager, Staff"},{"key":"shift","placeholder":"Enter Shift","error":"Enter valid value","pattern":"^[A-Za-z ]*$","ex":" Day, Night"},{"key":"workingTime","placeholder":"Enter Working Time","error":"Enter valid value","pattern":"^[A-Za-z0-9 -:]*$","ex":"10:00 am - 6:00 pm"},{"key":"workingDays","placeholder":"Enter Working Days","error":"Enter valid value","pattern":"^[A-Za-z -]*$","ex":"Mon-Fri"}]');var ji=m.t(Wi,2);function Qi(e,n){if(1&e&&(t.TgZ(0,"small",16),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij("Ex: ",i.ex,"")}}function zi(e,n){if(1&e&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.error||"Enter valid value","")}}function Ki(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div",20)(1,"div",21),t._uU(2),t.qZA(),t.TgZ(3,"div",22),t.NdJ("click",function(){const o=t.CHM(i).index,a=t.oxw(2).$implicit,c=t.oxw();return t.KtG(c.removeArrayValue(o,a.key))}),t.O4$(),t.TgZ(4,"svg",23),t._UZ(5,"path",24),t.qZA()()()}if(2&e){const i=n.$implicit;t.xp6(2),t.Oqu(i.name)}}function Xi(e,n){if(1&e&&(t.TgZ(0,"div",3)(1,"div",18),t.YNc(2,Ki,6,1,"div",19),t.qZA()()),2&e){const i=t.oxw().$implicit,r=t.oxw();t.xp6(2),t.Q6J("ngForOf",r.formValue[i.key])}}const tn=function(e){return{"is-invalid":e}};function en(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div",9)(1,"div",3)(2,"div",10),t._UZ(3,"input",11),t.YNc(4,Qi,2,1,"small",12),t.YNc(5,zi,2,1,"div",13),t.qZA(),t.TgZ(6,"div",10)(7,"button",14),t.NdJ("click",function(){const o=t.CHM(i).$implicit,a=t.oxw();return t.KtG(a.pushValue(o.key,a.formGroup.controls[o.key].value))}),t._uU(8,"+"),t.qZA()(),t.YNc(9,Xi,3,1,"div",15),t.qZA()()}if(2&e){const i=n.$implicit,r=t.oxw();t.xp6(3),t.Q6J("formControlName",i.key)("placeholder",i.placeholder)("ngClass",t.VKq(7,tn,null==r.formGroup.controls[i.key]?null:r.formGroup.controls[i.key].errors)),t.xp6(1),t.Q6J("ngIf",i.ex),t.xp6(1),t.Q6J("ngIf",null==r.formGroup.controls[i.key]||null==r.formGroup.controls[i.key].errors?null:r.formGroup.controls[i.key].errors.pattern),t.xp6(2),t.Q6J("disabled",!r.formGroup.controls[i.key].value||(null==r.formGroup.controls[i.key]||null==r.formGroup.controls[i.key].errors?null:r.formGroup.controls[i.key].errors.pattern)),t.xp6(2),t.Q6J("ngIf",null==r.formValue[i.key]?null:r.formValue[i.key].length)}}let nn=(()=>{const n=class{constructor(r,s,o,a){this.fb=r,this.commonService=s,this.router=o,this.dataBaseService=a,this.formValue={},this.formData=[{key:"role",placeholder:"Enter Role",error:"Enter valid value",pattern:"^[A-Za-z ]*$",ex:"Manager, Staff"},{key:"shift",placeholder:"Enter Shift",error:"Enter valid value",pattern:"^[A-Za-z ]*$",ex:" Day, Night"},{key:"workingTime",placeholder:"Enter Working Time",error:"Enter valid value",pattern:"^[A-Za-z0-9 -:]*$",ex:"10:00 am - 6:00 pm"},{key:"workingDays",placeholder:"Enter Working Days",error:"Enter valid value",pattern:"^[A-Za-z -]*$",ex:"Mon-Fri"}],this.formGroup=this.fb.group({}),this.createForm(ji?.default||this.formData);let l=this.dataBaseService.getSetting();this.formValue=l||{}}ngOnInIt(){this.createForm(this.formData)}createForm(r){for(let s of r){const o=new u.NI;s.pattern&&(o.setValidators([u.kI.pattern(s.pattern)]),o.updateValueAndValidity()),this.formGroup.addControl(s.key,o)}}pushValue(r,s){if(""===s.trim())return;let a={id:this.commonService.generateCryptoId(16),name:s.trim().replace(/\s+/g," "),value:s.replace(/\s+/g,"").toLowerCase()};this.formValue[r]||(this.formValue[r]=[]),this.formValue[r].push(a),this.formGroup.controls[r].reset()}cancle(){this.router.navigate(["dashboard"])}submit(){this.formValue&&this.dataBaseService.setSetting(this.formValue)}removeArrayValue(r,s){this.formValue[s]?.splice(r,1)}};let e=n;return n.\u0275fac=function(s){return new(s||n)(t.Y36(u.qu),t.Y36(q),t.Y36(w.F0),t.Y36(k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting"]],decls:11,vars:2,consts:[[1,"card"],[1,"card-body"],[1,"row",3,"formGroup"],[1,"row"],["class","col-md-6 mb-2",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"float-end"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-6","mb-2"],[1,"col"],["type","text",1,"form-control",3,"formControlName","placeholder","ngClass"],["class","text-secondary",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["class","row",4,"ngIf"],[1,"text-secondary"],[1,"invalid-feedback"],[1,"col-md-6"],["class","chip  m-1",4,"ngFor","ngForOf"],[1,"chip","m-1"],[1,"chip-content"],[1,"chip-close",3,"click"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"chip-svg"],["d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3),t.YNc(4,en,10,9,"div",4),t.qZA()()(),t.TgZ(5,"div",5)(6,"div",6)(7,"button",7),t.NdJ("click",function(){return o.cancle()}),t._uU(8,"Cancle & Back"),t.qZA(),t.TgZ(9,"button",8),t.NdJ("click",function(){return o.submit()}),t._uU(10,"Submit"),t.qZA()()()()),2&s&&(t.xp6(2),t.Q6J("formGroup",o.formGroup),t.xp6(2),t.Q6J("ngForOf",o.formData))},dependencies:[f.mk,f.sg,f.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u]}),e})();function rn(e,n){if(1&e&&(t.TgZ(0,"div",6)(1,"span"),t._uU(2),t.qZA()()),2&e){const i=t.oxw();t.xp6(2),t.hij("Hi ",null==i.currentUser?null:i.currentUser.userName," , Welcome to AMS ")}}function sn(e,n){if(1&e&&(t.TgZ(0,"table",7)(1,"thead")(2,"tr")(3,"th",8),t._uU(4,"Action"),t.qZA(),t.TgZ(5,"th",8),t._uU(6,"Action"),t.qZA()()(),t.TgZ(7,"tbody")(8,"tr")(9,"td"),t._uU(10,"User Name"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA()(),t.TgZ(13,"tr")(14,"td"),t._uU(15,"Email"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA()(),t.TgZ(18,"tr")(19,"td"),t._uU(20,"Role"),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.ALo(23,"uppercase"),t.qZA()(),t.TgZ(24,"tr")(25,"td"),t._uU(26,"Shift"),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.ALo(29,"uppercase"),t.qZA()(),t.TgZ(30,"tr")(31,"td"),t._uU(32,"Shift"),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.ALo(35,"uppercase"),t.qZA()(),t.TgZ(36,"tr")(37,"td"),t._uU(38,"Working Days"),t.qZA(),t.TgZ(39,"td"),t._uU(40),t.ALo(41,"uppercase"),t.qZA()(),t.TgZ(42,"tr")(43,"td"),t._uU(44,"Working Time"),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.ALo(47,"uppercase"),t.qZA()()()()),2&e){const i=t.oxw();t.xp6(12),t.Oqu(null==i.currentUser?null:i.currentUser.userName),t.xp6(5),t.Oqu(null==i.currentUser?null:i.currentUser.email),t.xp6(5),t.Oqu(t.lcZ(23,7,null==i.currentUser?null:i.currentUser.role)),t.xp6(6),t.Oqu(t.lcZ(29,9,null==i.currentUser?null:i.currentUser.shift)),t.xp6(6),t.Oqu(t.lcZ(35,11,null==i.currentUser?null:i.currentUser.shift)),t.xp6(6),t.Oqu(t.lcZ(41,13,null==i.currentUser?null:i.currentUser.workingDays)),t.xp6(6),t.Oqu(t.lcZ(47,15,null==i.currentUser?null:i.currentUser.workingTime))}}const on=function(e){return[e]},an=function(e){return{id:e}};function cn(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"td",12)(7,"button",13),t._uU(8," Visit Page"),t.qZA()()()),2&e){const i=n.$implicit,r=n.index,s=t.oxw(2);t.xp6(2),t.Oqu(r+1),t.xp6(3),t.hij(" ",null==s.pages[i]?null:s.pages[i].name,""),t.xp6(2),t.Q6J("routerLink",t.VKq(4,on,"/"+(null==s.pages[i]?null:s.pages[i].path)))("queryParams","attendance"===i?t.VKq(6,an,s.currentUser.id):"")}}function ln(e,n){1&e&&(t.TgZ(0,"tr")(1,"td",14),t._uU(2," No record found"),t.qZA()())}function dn(e,n){if(1&e&&(t.TgZ(0,"table",7)(1,"thead")(2,"tr"),t._UZ(3,"th",8),t.TgZ(4,"th",8),t._uU(5,"Pages"),t.qZA(),t.TgZ(6,"th",9),t._uU(7,"Action"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,cn,9,8,"tr",10),t.YNc(10,ln,3,0,"tr",11),t.qZA()()),2&e){const i=t.oxw();t.xp6(9),t.Q6J("ngForOf",i.pageName),t.xp6(1),t.Q6J("ngIf",0===i.pageName.length)}}let hn=(()=>{const n=class{constructor(r,s){this.dataBaseService=r,this.authenticationService=s,this.pageName=[],this.authenticationService.currentUser.subscribe(a=>this.currentUser=a),this.pages=this.dataBaseService.getUserPermission();let o=this.currentUser.role;for(const a in this.pages)console.log(a),"dashboard"!==a&&this.pages[a][o]&&this.pageName.push(a)}};let e=n;return n.\u0275fac=function(s){return new(s||n)(t.Y36(k),t.Y36(C.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:11,vars:3,consts:[["class","alert alert-success","role","alert",4,"ngIf"],[1,"card","my-2"],[1,"card-header"],[1,"card-body"],["class","table table-striped table-hover table-bordered",4,"ngIf"],[1,"card"],["role","alert",1,"alert","alert-success"],[1,"table","table-striped","table-hover","table-bordered"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],[1,"btn","btn-secondary",3,"routerLink","queryParams"],["colspan","12",1,"text-center"]],template:function(s,o){1&s&&(t.YNc(0,rn,3,1,"div",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3,"User Detail"),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,sn,48,17,"table",4),t.qZA()(),t.TgZ(6,"div",5)(7,"div",2),t._uU(8," Allwoed Pages"),t.qZA(),t.TgZ(9,"div",3),t.YNc(10,dn,11,2,"table",4),t.qZA()()),2&s&&(t.Q6J("ngIf",o.currentUser),t.xp6(5),t.Q6J("ngIf",o.currentUser&&o.pageName),t.xp6(5),t.Q6J("ngIf",o.currentUser&&o.pageName))},dependencies:[f.sg,f.O5,w.rH,f.gd]}),e})(),L=(()=>{const n=class{constructor(r,s,o){this.router=r,this.authenticationService=s,this.dataBaseSerice=o,this.authenticationService.currentUser.subscribe(a=>this.currentUser=a),this.pagePermission=this.dataBaseSerice.getUserPermission(),console.log(this.pagePermission)}canActivate(r,s){return!!this.pagePermission[r.url[0]?.path][this.currentUser.role]||(null===this.currentUser||null==this.currentUser?(this.router.navigate(["/login"]),!1):(this.router.navigate(["/dashboard"]),!1))}};let e=n;return n.\u0275fac=function(s){return new(s||n)(t.LFG(w.F0),t.LFG(C.$),t.LFG(k))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const un=[{path:"",component:zt,children:[{path:"dashboard",component:hn,canActivate:[L]},{path:"attendance",component:Ai,canActivate:[L]},{path:"mark-attendance",component:Ei,canActivate:[L]},{path:"staff",component:Gi,canActivate:[L]},{path:"setting",component:nn,canActivate:[L]}]}];let fn=(()=>{const n=class{};let e=n;return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[qt],imports:[f.ez,w.Bz.forChild(un),fi.forRoot(),u.u5,u.UX]}),e})()}}]);